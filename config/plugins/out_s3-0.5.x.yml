initial_params:
  s3_region: "us-west-1"
  output_tag: true
  output_time: true
  use_ssl: true
keys:
  common:
    - match
    - aws_key_id
    - aws_sec_key
    - s3_region
    - s3_bucket
    - use_ssl
    - path
  advanced:
    - format
    - output_tag
    - output_time
    - include_time_key
    - time_key
    - delimiter
    - label_delimiter
    - utc
    - time_slice_format
    - time_slice_wait
    - store_as
    - proxy_uri
    - buffer_type
    - buffer_queue_limit
    - buffer_chunk_limit
    - flush_interval
    - retry_wait
    - retry_limit
    - max_retry_wait
    - num_threads
validations:
  match:
    presence: true
  s3_bucket:
    presence: true
types:
  choice:
    format:
      - out_file
      - json
      - ltsv
      - single_value
    store_as:
      - gzip
      - lzo
      - lzma2
      - json
      - txt
    buffer_type:
      - memory
      - file
  booleans:
    - include_time_key
    - add_newline
    - use_ssl
    - output_tag
    - output_time
  flags:
    - utc
